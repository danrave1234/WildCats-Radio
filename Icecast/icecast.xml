<?xml version="1.0" encoding="UTF-8"?>
<icecast>
    <location>Google Cloud Singapore (Asia-Southeast1)</location>
    <admin>admin@wildcatsradio.com</admin>
    <hostname>icecast.software</hostname>

    <!-- Performance limits tuned for stability and consistent quality.
         Note: We accept ~10s latency to gain smoother playback under network jitter. -->
    <limits>
        <!-- Concurrent listener and source limits -->
        <clients>100</clients>
        <sources>5</sources>

        <!-- Larger client queue to absorb jitter without drops (1 MiB).
             At 128 kbps (~16 KiB/s), 1 MiB ~ 64 seconds of headroom. -->
        <queue-size>1048576</queue-size>

        <!-- Slightly more relaxed timeouts to avoid spurious disconnects during transient issues -->
        <client-timeout>60</client-timeout>
        <header-timeout>30</header-timeout>
        <source-timeout>30</source-timeout>

        <!-- Keep burst on connect enabled and increase initial burst for better start-up buffering.
             192 KiB (~12s at 128 kbps) helps consistent start without stutter. -->
        <burst-on-connect>1</burst-on-connect>
        <burst-size>196608</burst-size>
    </limits>

    <paths>
        <basedir>/usr/share/icecast2</basedir>
        <logdir>/var/log/icecast2</logdir>
        <webroot>/usr/share/icecast2/web</webroot>
        <adminroot>/usr/share/icecast2/admin</adminroot>
        <pidfile>/var/run/icecast2/icecast2.pid</pidfile>
        <alias source="/" destination="/status.xsl"/>
        <fileserve>1</fileserve>
    </paths>

    <authentication>
        <source-password>hackme</source-password>
        <relay-password>hackme</relay-password>
        <admin-user>admin</admin-user>
        <admin-password>hackme</admin-password>
    </authentication>

    <listen-socket>
        <port>8000</port>
        <bind-address>0.0.0.0</bind-address>
    </listen-socket>

    <http-headers>
        <header name="Access-Control-Allow-Origin" value="*"/>
        <header name="Access-Control-Allow-Methods" value="GET, POST, OPTIONS"/>
        <header name="Access-Control-Allow-Headers" value="Origin, X-Requested-With, Content-Type, Accept"/>
        <header name="Access-Control-Allow-Credentials" value="false"/>
        <header name="Cache-Control" value="no-cache, no-store"/>
        <header name="Pragma" value="no-cache"/>
    </http-headers>

    <!-- OGG stream mount point -->
    <mount>
        <mount-name>/live.ogg</mount-name>
        <username>source</username>
        <password>hackme</password>
        <!-- Per-mount listener cap (can be adjusted) -->
        <max-listeners>80</max-listeners>
        <!-- Match global higher burst for smoother start-up -->
        <burst-size>196608</burst-size>
        <!-- Keep respawn-timeout conservative; Icecast respawn is for internal relays -->
        <respawn-timeout>5</respawn-timeout>
        <!-- No fallback to avoid unintended quality changes (per your preference) -->
        <!-- <fallback-mount>/silence.ogg</fallback-mount> -->
        <!-- <fallback-override>1</fallback-override> -->
        <stream-name>WildCats Radio Live - Philippines</stream-name>
        <stream-description>Live audio broadcast from WildCats Radio</stream-description>
        <stream-url>https://wildcat-radio.live/</stream-url>
        <genre>Various</genre>
        <public>1</public>
        <no-yp>1</no-yp>
        <charset>UTF-8</charset>
    </mount>

    <!-- MP3 stream mount point -->
    <mount>
        <mount-name>/live.mp3</mount-name>
        <username>source</username>
        <password>hackme</password>
        <!-- Per-mount listener cap (can be adjusted) -->
        <max-listeners>80</max-listeners>
        <!-- Match global higher burst for smoother start-up -->
        <burst-size>196608</burst-size>
        <!-- Keep respawn-timeout conservative; Icecast respawn is for internal relays -->
        <respawn-timeout>5</respawn-timeout>
        <!-- No fallback to avoid unintended quality changes (per your preference) -->
        <!-- <fallback-mount>/silence.ogg</fallback-mount> -->
        <!-- <fallback-override>1</fallback-override> -->
        <stream-name>WildCats Radio Live - Philippines</stream-name>
        <stream-description>Live audio broadcast from WildCats Radio</stream-description>
        <stream-url>https://wildcat-radio.live/</stream-url>
        <genre>Various</genre>
        <public>1</public>
        <no-yp>1</no-yp>
        <charset>UTF-8</charset>
    </mount>

    <!-- Optional: Low quality OGG stream for slower connections -->
    <mount>
        <mount-name>/live-low.ogg</mount-name>
        <username>source</username>
        <password>hackme</password>
        <max-listeners>50</max-listeners>
        <burst-size>196608</burst-size>
        <respawn-timeout>5</respawn-timeout>
        <stream-name>WildCats Radio Live - Low Quality</stream-name>
        <stream-description>Low bandwidth stream for mobile users</stream-description>
        <stream-url>https://wildcat-radio.live/</stream-url>
        <genre>Various</genre>
        <public>0</public>
        <no-yp>0</no-yp>
        <charset>UTF-8</charset>
    </mount>

    <logging>
        <accesslog>access.log</accesslog>
        <errorlog>error.log</errorlog>
        <loglevel>3</loglevel>
        <logsize>10485760</logsize>
        <logarchive>1</logarchive>
    </logging>

    <security>
        <chroot>0</chroot>
        <changeowner>
            <user>icecast2</user>
            <group>icecast</group>
        </changeowner>
    </security>
</icecast>